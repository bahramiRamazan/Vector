{"remainingRequest":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projects\\vue-intro\\porsan\\frontend\\src\\views\\About.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\src\\views\\About.vue","mtime":1608562866072},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYw0KaW1wb3J0IFNlYXJjaExheW91dCBmcm9tICJAL2NvbXBvbmVudHMvU2VhcmNoTGF5b3V0LnZ1ZSI7DQppbXBvcnQgeyByZXF1ZXN0c01peGluIH0gZnJvbSAiQC9taXhpbnMvcmVxdWVzdHNNaXhpbiI7DQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiYWJvdXQiLA0KICBjb21wb25lbnRzOiB7DQogICAgU2VhcmNoTGF5b3V0DQogIH0sDQogIG1peGluczogW3JlcXVlc3RzTWl4aW5dLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWN0aW9uczogYGFydHMsIGF1dG9tb2JpbGVzLCBib29rcywgYnVzaW5lc3MsIGZhc2hpb24sDQogICAgICBmb29kLCBoZWFsdGgsIGhvbWUsIGluc2lkZXIsIG1hZ2F6aW5lLCBtb3ZpZXMsIG5hdGlvbmFsLA0KICAgICAgbnlyZWdpb24sIG9iaXR1YXJpZXMsIG9waW5pb24sIHBvbGl0aWNzLCByZWFsZXN0YXRlLCBzY2llbmNlLA0KICAgICAgc3BvcnRzLCBzdW5kYXlyZXZpZXcsIHRlY2hub2xvZ3ksIHRoZWF0ZXIsDQogICAgICB0bWFnYXppbmUsIHRyYXZlbCwgdXBzaG90LCB3b3JsZGANCiAgICAgICAgLnNwbGl0KCIsIikNCiAgICAgICAgLm1hcChzID0+IHMudHJpbSgpKSwNCiAgICAgIHNlbGVjdGVkU2VjdGlvbjogImFydHMiLA0KICAgICAgYXJ0aWNsZXM6IFtdLA0KICAgIA0KICAgICAgZm9ybToge30sDQogICAgICAgICAgICBxdWVzdGlvbnM6IFtdLA0KICAgICAgbmV4dDogbnVsbCwNCiAgICAgIGxvYWRpbmdRdWVzdGlvbnM6IGZhbHNlDQogICAgfTsNCiAgfSwNCiAgYmVmb3JlTW91bnQoKSB7DQoNCiAgfSwNCiAgbWV0aG9kczogew0KDQoNCiAgICBhc3luYyBvblN1Ym1pdCgpIHsNCiAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB0aGlzLiRyZWZzLm9ic2VydmVyLnZhbGlkYXRlKCk7DQogICAgICBpZiAoIWlzVmFsaWQpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICANCiAgZWxzZSB7DQogICAgDQogDQogICAgICAvLyBsZXQgZW5kcG9pbnQgPSBgL2FwaS9xdWVzdGlvbnMvJHt0aGlzLnNsdWd9L2Fuc3dlcnMvYDt0aGlzLmZvcm0ua2V5d29yZA0KICAgICAgLy8gbGV0IGVuZHBvaW50ID0gYC9hcGkvcXVlc3Rpb25zL2tleXdvcmQ6JHt0aGlzLmZvcm0ua2V5d29yZH0vc2VhcmNoL2A7DQogICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9xdWVzdGlvbnMvc2VhcmNoLyR7dGhpcy5mb3JtLmtleXdvcmR9L2A7DQogICAgICAvLyBsZXQgZW5kcG9pbnQgPSBgL2FwaS9nZXQtdG9rZW4vYDsNCg0KICAgICAgICAgICBpZiAodGhpcy5uZXh0KSB7DQogICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0Ow0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nUXVlc3Rpb25zID0gdHJ1ZTsNCiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpDQogICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgIA0KICAgICAgICAgIHRoaXMucXVlc3Rpb25zLnB1c2goLi4uZGF0YS5yZXN1bHRzKQ0KICAgICAgICAgIHRoaXMubG9hZGluZ1F1ZXN0aW9ucyA9IGZhbHNlOw0KICAgICAgICAgIGlmIChkYXRhLm5leHQpIHsNCiAgICAgICAgICAgIHRoaXMubmV4dCA9IGRhdGEubmV4dDsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQoNCiAgICAgIH0NCiAgICB9LA0KICANCg0KDQoNCg0KDQogICAgYXN5bmMgZ2V0QWxsQXJ0aWNsZXMoKSB7DQogICAgICAvLyBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QXJ0aWNsZXModGhpcy5zZWxlY3RlZFNlY3Rpb24pOw0KICAgICAgLy8gdGhpcy5hcnRpY2xlcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsNCiAgICB9LA0KICAgIHNldFNlY3Rpb24oKSB7DQogICAgICAvLyB0aGlzLmdldEFsbEFydGljbGVzKCk7DQogICAgfSwNCiAgICAgICAgZ2V0UXVlc3Rpb25zKCkgew0KICAgICAgLy8gbWFrZSBhIEdFVCBSZXF1ZXN0IHRvIHRoZSBxdWVzdGlvbnMgbGlzdCBlbmRwb2ludCBhbmQgcG9wdWxhdGUgdGhlIHF1ZXN0aW9ucyBhcnJheQ0KICAgICAgbGV0IGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyI7DQogICAgICBpZiAodGhpcy5uZXh0KSB7DQogICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0Ow0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nUXVlc3Rpb25zID0gdHJ1ZTsNCiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpDQogICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIHRoaXMucXVlc3Rpb25zLnB1c2goLi4uZGF0YS5yZXN1bHRzKQ0KICAgICAgICAgIHRoaXMubG9hZGluZ1F1ZXN0aW9ucyA9IGZhbHNlOw0KICAgICAgICAgIGlmIChkYXRhLm5leHQpIHsNCiAgICAgICAgICAgIHRoaXMubmV4dCA9IGRhdGEubmV4dDsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgfSwgIA0KICAgIGNyZWF0ZWQoKSB7DQogIA0KICB9DQogIH0NCn07DQo="},{"version":3,"sources":["About.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"About.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <h1 class=\"text-center\">Search</h1>\r\n    <SearchLayout>\r\n      <template v-slot:top>\r\n        <ValidationObserver ref=\"observer\" v-slot=\"{  }\">\r\n          <b-form @submit.prevent=\"onSubmit\" novalidate id=\"form\">\r\n            <b-form-group label=\"keyword\" label-for=\"keyword\">\r\n              <ValidationProvider name=\"keyword\" rules=\"required\" v-slot=\"{ errors }\">\r\n                <b-form-input\r\n                  :state=\"errors.length == 0\"\r\n                  v-model=\"form.keyword\"\r\n                  type=\"text\"\r\n                  required\r\n                  placeholder=\"Keyword\"\r\n                  name=\"keyword\"\r\n                ></b-form-input>\r\n                <b-form-invalid-feedback :state=\"errors.length == 0\">Keyword is required</b-form-invalid-feedback>\r\n              </ValidationProvider>\r\n            </b-form-group>\r\n            <b-button type=\"submit\" variant=\"primary\">Search</b-button>\r\n          </b-form>\r\n        </ValidationObserver>\r\n      </template>\r\n<template v-slot:bottom>\r\n         <div class=\"container \">\r\n           <br>\r\n    \r\n      <div v-for=\"question in questions\"\r\n           :key=\"question.pk\">\r\n      \r\n\r\n      <b-card\r\n          header-tag=\"header\"\r\n          header-bg-variant=\"dark\"\r\n\r\n          footer-tag=\"footer\"\r\n           footer-bg-variant=\"success\"\r\n          footer-border-variant=\"dark\"\r\n          title=\"سوال نمونه\"\r\n          style=\"text-align: justify;\"\r\n        >\r\n       <b-card-text>\r\n          <router-link\r\n            :to=\"{ name: 'question', params: { slug: question.slug } }\"\r\n            class=\"question-link question d-flex justify-content-between\"\r\n            >{{ question.content }}\r\n          </router-link>\r\n        </b-card-text>\r\n    <b-card-footer variant=\"success\" >\r\n      <span class=\"question-author \">{{ question.author }}\r\n        <b-avatar size=\"sm\" variant=\"info\">\r\n        </b-avatar>\r\n        </span>\r\n        <b-avatar size=\"sm\" variant=\"success\" >{{ question.answers_count }}</b-avatar>\r\n    </b-card-footer>\r\n  </b-card>\r\n\r\n      \r\n      </div>\r\n      <div class=\"my-4 \">\r\n        <p v-show=\"loadingQuestions\">...loading...</p>\r\n        <button\r\n          v-show=\"next\"\r\n          @click=\"getQuestions\"\r\n          class=\"btn btn-sm btn-outline-success\"\r\n          >Load More\r\n        </button>\r\n      </div>\r\n\r\n</div>\r\n\r\n      </template>\r\n    </SearchLayout>\r\n  </div>\r\n</template>\r\n<script>\r\n// @ is an alias to /src\r\n// @ is an alias to /src\r\nimport SearchLayout from \"@/components/SearchLayout.vue\";\r\nimport { requestsMixin } from \"@/mixins/requestsMixin\";\r\nimport { apiService } from \"@/common/api.service.js\";\r\nexport default {\r\n  name: \"about\",\r\n  components: {\r\n    SearchLayout\r\n  },\r\n  mixins: [requestsMixin],\r\n  data() {\r\n    return {\r\n      sections: `arts, automobiles, books, business, fashion,\r\n      food, health, home, insider, magazine, movies, national,\r\n      nyregion, obituaries, opinion, politics, realestate, science,\r\n      sports, sundayreview, technology, theater,\r\n      tmagazine, travel, upshot, world`\r\n        .split(\",\")\r\n        .map(s => s.trim()),\r\n      selectedSection: \"arts\",\r\n      articles: [],\r\n    \r\n      form: {},\r\n            questions: [],\r\n      next: null,\r\n      loadingQuestions: false\r\n    };\r\n  },\r\n  beforeMount() {\r\n\r\n  },\r\n  methods: {\r\n\r\n\r\n    async onSubmit() {\r\n         const isValid = await this.$refs.observer.validate();\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n     \r\n  else {\r\n    \r\n \r\n      // let endpoint = `/api/questions/${this.slug}/answers/`;this.form.keyword\r\n      // let endpoint = `/api/questions/keyword:${this.form.keyword}/search/`;\r\n      let endpoint = `/api/questions/search/${this.form.keyword}/`;\r\n      // let endpoint = `/api/get-token/`;\r\n\r\n           if (this.next) {\r\n        endpoint = this.next;\r\n      }\r\n      this.loadingQuestions = true;\r\n      apiService(endpoint)\r\n        .then(data => {\r\n    \r\n          this.questions.push(...data.results)\r\n          this.loadingQuestions = false;\r\n          if (data.next) {\r\n            this.next = data.next;\r\n          } else {\r\n            this.next = null;\r\n          }\r\n        })\r\n\r\n      }\r\n    },\r\n  \r\n\r\n\r\n\r\n\r\n\r\n    async getAllArticles() {\r\n      // const response = await this.getArticles(this.selectedSection);\r\n      // this.articles = response.data.results;\r\n    },\r\n    setSection() {\r\n      // this.getAllArticles();\r\n    },\r\n        getQuestions() {\r\n      // make a GET Request to the questions list endpoint and populate the questions array\r\n      let endpoint = \"/api/questions/\";\r\n      if (this.next) {\r\n        endpoint = this.next;\r\n      }\r\n      this.loadingQuestions = true;\r\n      apiService(endpoint)\r\n        .then(data => {\r\n          this.questions.push(...data.results)\r\n          this.loadingQuestions = false;\r\n          if (data.next) {\r\n            this.next = data.next;\r\n          } else {\r\n            this.next = null;\r\n          }\r\n        })\r\n    },  \r\n    created() {\r\n  \r\n  }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"]}]}