{"remainingRequest":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projects\\vue-intro\\porsan\\frontend\\src\\views\\AnswerEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\src\\views\\AnswerEditor.vue","mtime":1607836690417},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projects\\vue-intro\\porsan\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovcHJvamVjdHMvdnVlLWludHJvL3BvcnNhbi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQW5zd2VyRWRpdG9yIiwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXN0aW9uU2x1ZzogbnVsbCwKICAgICAgYW5zd2VyQm9keTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hbnN3ZXJCb2R5KSB7CiAgICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvYW5zd2Vycy8iLmNvbmNhdCh0aGlzLmlkLCAiLyIpOwogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQVVQiLCB7CiAgICAgICAgICBib2R5OiB0aGlzLmFuc3dlckJvZHkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJxdWVzdGlvbiIsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHNsdWc6IF90aGlzLnF1ZXN0aW9uU2x1ZwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yID0gIllvdSBjYW4ndCBzdWJtaXQgYW4gZW1wdHkgYW5zd2VyISI7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBlbmRwb2ludCwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIGdldCB0aGUgYW5zd2VyJ3MgZGF0YSBmcm9tIHRoZSBSRVNUIEFQSSBhbmQgc2V0IHR3byBkYXRhIHByb3BlcnRpZXMgZm9yIHRoZSBjb21wb25lbnQKICAgICAgICAgICAgICBlbmRwb2ludCA9ICIvYXBpL2Fuc3dlcnMvIi5jb25jYXQodG8ucGFyYW1zLmlkLCAiLyIpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlKGVuZHBvaW50KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXh0KGZ1bmN0aW9uICh2bSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHZtLmFuc3dlckJvZHkgPSBkYXRhLmJvZHksIHZtLnF1ZXN0aW9uU2x1ZyA9IGRhdGEucXVlc3Rpb25fc2x1ZzsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["AnswerEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,UAAA,QAAA,yBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,YAAA,QAAA,0BAAA,KAAA,EAAA,MAAA;AACA,QAAA,UAAA,CAAA,QAAA,EAAA,KAAA,EAAA;AAAA,UAAA,IAAA,EAAA,KAAA;AAAA,SAAA,CAAA,CACA,IADA,CACA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,UADA;AAEA,YAAA,MAAA,EAAA;AAAA,cAAA,IAAA,EAAA,KAAA,CAAA;AAAA;AAFA,WAAA;AAIA,SANA;AAOA,OATA,MASA;AACA,aAAA,KAAA,GAAA,mCAAA;AACA;AACA;AAdA,GAfA;AA+BA,EAAA,gBA/BA,4BA+BA,EA/BA,EA+BA,IA/BA,EA+BA,IA/BA,EA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,cAAA,QAFA,0BAEA,EAAA,CAAA,MAAA,CAAA,EAFA;AAAA;AAAA,qBAGA,UAAA,CAAA,QAAA,CAHA;;AAAA;AAGA,cAAA,IAHA;AAAA,+CAIA,IAAA,CAAA,UAAA,EAAA;AAAA,uBACA,EAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,EACA,EAAA,CAAA,YAAA,GAAA,IAAA,CAAA,aAFA;AAAA,eAAA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAvCA,CAAA","sourcesContent":["<template>\n  <div class=\"container mt-2\">\n    <h1 class=\"mb-3\">Edit Your Answer</h1>\n    <form @submit.prevent=\"onSubmit\">\n      <textarea \n        v-model=\"answerBody\" \n        class=\"form-control\" \n        rows=\"3\"\n      ></textarea>\n      <br>\n      <button \n        type=\"submit\" \n        class=\"btn btn-success\"\n        >Publish your answer\n      </button>\n    </form>\n    <p v-if=\"error\" class=\"muted mt-2\">{{ error }}</p>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"AnswerEditor\",\n  props: {\n    id: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      questionSlug: null,\n      answerBody: null,\n      error: null\n    }\n  },\n  methods: {\n    onSubmit() {\n      if (this.answerBody) {\n        let endpoint = `/api/answers/${this.id}/`;\n        apiService(endpoint, \"PUT\", { body: this.answerBody })\n          .then(() => {\n            this.$router.push({\n              name: \"question\",\n              params: { slug: this.questionSlug }\n            })\n          })\n      } else {\n        this.error = \"You can't submit an empty answer!\";\n      }\n    }\n  },\n  async beforeRouteEnter(to, from, next) {\n    // get the answer's data from the REST API and set two data properties for the component\n    let endpoint = `/api/answers/${to.params.id}/`;\n    let data = await apiService(endpoint);\n    return next(vm => (\n      vm.answerBody = data.body,\n      vm.questionSlug = data.question_slug\n    ));\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}