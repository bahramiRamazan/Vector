{"remainingRequest":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/babel-loader/lib/index.js!/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/src/views/Question.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/src/views/Question.vue","mtime":1610459643894},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvbW50LzA2MkNCQjA1MkNCQUVFQjUvcHJvamVjdHMvdnVlLWludHJvL3BvcnNhbi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL21udC8wNjJDQkIwNTJDQkFFRUI1L3Byb2plY3RzL3Z1ZS1pbnRyby9wb3JzYW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlLmpzIjsKaW1wb3J0IEFuc3dlckNvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvQW5zd2VyLnZ1ZSI7CmltcG9ydCBRdWVzdGlvbkFjdGlvbnMgZnJvbSAiQC9jb21wb25lbnRzL1F1ZXN0aW9uQWN0aW9ucy52dWUiOwppbXBvcnQgQmFzZUxheW91dCBmcm9tICJAL2NvbXBvbmVudHMvQmFzZUxheW91dC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlF1ZXN0aW9uIiwKICBwcm9wczogewogICAgc2x1ZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbnN3ZXJDb21wb25lbnQ6IEFuc3dlckNvbXBvbmVudCwKICAgIFF1ZXN0aW9uQWN0aW9uczogUXVlc3Rpb25BY3Rpb25zLAogICAgQmFzZUxheW91dDogQmFzZUxheW91dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXN0aW9uOiB7fSwKICAgICAgYW5zd2VyczogW10sCiAgICAgIG5leHQ6IG51bGwsCiAgICAgIGxvYWRpbmdBbnN3ZXJzOiBmYWxzZSwKICAgICAgbmV3QW5zd2VyQm9keTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHVzZXJIYXNBbnN3ZXJlZDogZmFsc2UsCiAgICAgIHNob3dGb3JtOiBmYWxzZSwKICAgICAgcmVxdWVzdFVzZXI6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNRdWVzdGlvbkF1dGhvcjogZnVuY3Rpb24gaXNRdWVzdGlvbkF1dGhvcigpIHsKICAgICAgLy8gcmV0dXJuIHRydWUgaWYgdGhlIGxvZ2dlZCBpbiB1c2VyIGlzIGFsc28gdGhlIGF1dGhvciBvZiB0aGUgcXVlc3Rpb24gaW5zdGFuY2UKICAgICAgcmV0dXJuIHRoaXMucXVlc3Rpb24uYXV0aG9yID09PSB0aGlzLnJlcXVlc3RVc2VyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0UGFnZVRpdGxlOiBmdW5jdGlvbiBzZXRQYWdlVGl0bGUodGl0bGUpIHsKICAgICAgLy8gc2V0IGEgZ2l2ZW4gdGl0bGUgc3RyaW5nIGFzIHRoZSB3ZWJwYWdlIHRpdGxlCiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGl0bGU7CiAgICB9LAogICAgc2V0UmVxdWVzdFVzZXI6IGZ1bmN0aW9uIHNldFJlcXVlc3RVc2VyKCkgewogICAgICAvLyB0aGUgdXNlcm5hbWUgaGFzIGJlZW4gc2V0IHRvIGxvY2FsU3RvcmFnZSBieSB0aGUgQXBwLnZ1ZSBjb21wb25lbnQKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKTsKICAgIH0sCiAgICBnZXRRdWVzdGlvbkRhdGE6IGZ1bmN0aW9uIGdldFF1ZXN0aW9uRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGdldCB0aGUgZGV0YWlscyBvZiBhIHF1ZXN0aW9uIGluc3RhbmNlIGZyb20gdGhlIFJFU1QgQVBJIGFuZCBjYWxsIHNldFBhZ2VUaXRsZQogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9xdWVzdGlvbnMvIi5jb25jYXQodGhpcy5zbHVnLCAiLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIF90aGlzLnF1ZXN0aW9uID0gZGF0YTsgLy8gdGhpcy51c2VySGFzQW5zd2VyZWQgPSBkYXRhLnVzZXJfaGFzX2Fuc3dlcmVkOwoKICAgICAgICAgIF90aGlzLnNldFBhZ2VUaXRsZShkYXRhLmNvbnRlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5xdWVzdGlvbiA9IG51bGw7CgogICAgICAgICAgX3RoaXMuc2V0UGFnZVRpdGxlKCI0MDQgLSBQYWdlIE5vdCBGb3VuZCIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0UXVlc3Rpb25BbnN3ZXJzOiBmdW5jdGlvbiBnZXRRdWVzdGlvbkFuc3dlcnMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gZ2V0IGEgcGFnZSBvZiBhbnN3ZXJzIGZvciBhIHNpbmdsZSBxdWVzdGlvbiBmcm9tIHRoZSBSRVNUIEFQSSdzIHBhZ2luYXRlZCAnUXVlc3Rpb25zIEVuZHBvaW50JwogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9xdWVzdGlvbnMvIi5jb25jYXQodGhpcy5zbHVnLCAiL2Fuc3dlcnMvIik7CgogICAgICBpZiAodGhpcy5uZXh0KSB7CiAgICAgICAgZW5kcG9pbnQgPSB0aGlzLm5leHQ7CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZ0Fuc3dlcnMgPSB0cnVlOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIF90aGlzMiRhbnN3ZXJzOwoKICAgICAgICAoX3RoaXMyJGFuc3dlcnMgPSBfdGhpczIuYW5zd2VycykucHVzaC5hcHBseShfdGhpczIkYW5zd2VycywgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEucmVzdWx0cykpOwoKICAgICAgICBfdGhpczIubG9hZGluZ0Fuc3dlcnMgPSBmYWxzZTsKCiAgICAgICAgaWYgKGRhdGEubmV4dCkgewogICAgICAgICAgX3RoaXMyLm5leHQgPSBkYXRhLm5leHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5uZXh0ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyBUZWxsIHRoZSBSRVNUIEFQSSB0byBjcmVhdGUgYSBuZXcgYW5zd2VyIGZvciB0aGlzIHF1ZXN0aW9uIGJhc2VkIG9uIHRoZSB1c2VyIGlucHV0LCB0aGVuIHVwZGF0ZSBzb21lIGRhdGEgcHJvcGVydGllcwogICAgICBpZiAodGhpcy5uZXdBbnN3ZXJCb2R5KSB7CiAgICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvcXVlc3Rpb25zLyIuY29uY2F0KHRoaXMuc2x1ZywgIi9hbnN3ZXIvIik7CiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiLCB7CiAgICAgICAgICBib2R5OiB0aGlzLm5ld0Fuc3dlckJvZHkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczMuYW5zd2Vycy51bnNoaWZ0KGRhdGEpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMubmV3QW5zd2VyQm9keSA9IG51bGw7CiAgICAgICAgdGhpcy5zaG93Rm9ybSA9IGZhbHNlOwogICAgICAgIHRoaXMudXNlckhhc0Fuc3dlcmVkID0gdHJ1ZTsKCiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yID0gIllvdSBjYW4ndCBzZW5kIGFuIGVtcHR5IGFuc3dlciEiOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQW5zd2VyOiBmdW5jdGlvbiBkZWxldGVBbnN3ZXIoYW5zd2VyKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZW5kcG9pbnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gZGVsZXRlIGEgZ2l2ZW4gYW5zd2VyIGZyb20gdGhlIGFuc3dlcnMgYXJyYXkgYW5kIG1ha2UgYSBkZWxldGUgcmVxdWVzdCB0byB0aGUgUkVTVCBBUEkKICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gIi9hcGkvYW5zd2Vycy8iLmNvbmNhdChhbnN3ZXIuaWQsICIvIik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJERUxFVEUiKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXM0LiRkZWxldGUoX3RoaXM0LmFuc3dlcnMsIF90aGlzNC5hbnN3ZXJzLmluZGV4T2YoYW5zd2VyKSk7CgogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJIYXNBbnN3ZXJlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRRdWVzdGlvbkRhdGEoKTsKICAgIHRoaXMuZ2V0UXVlc3Rpb25BbnN3ZXJzKCk7CiAgICB0aGlzLnNldFJlcXVlc3RVc2VyKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Question.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page\">\n    <div bmt-12>\n    </div>\n\n    <BaseLayout>\n      <template v-slot:right>\n            <b-card bg-variant=\"light\">\n  <div class=\"single-question mt-2\">\n    <div v-if=\"question\" class=\"container\">\n      <h1>{{ question.content }}</h1>\n\n   \n      <QuestionActions\n        v-if=\"isQuestionAuthor\"\n        :slug=\"question.slug\"\n      />\n      <p class=\"mb-0\">Posted by:\n        <span class=\"author-name\">{{ question.author }}</span>\n      </p>\n      <p>{{ question.created_at }}</p>\n      <hr>\n      <div v-if=\"userHasAnswered\">\n        <p class=\"answer-added\">You've written an answer!</p>\n      </div>\n      <div v-else-if=\"showForm\">\n        <form class=\"card\" @submit.prevent=\"onSubmit\">\n          <div class=\"card-header px-3\">\n            Answer the Question\n          </div>\n          <div class=\"card-block\">\n            <textarea \n              v-model=\"newAnswerBody\"\n              class=\"form-control\"\n              placeholder=\"Share Your Knowledge!\"\n              rows=\"5\"\n            ></textarea>\n          </div>\n          <div class=\"card-footer px-3\">\n            <button type=\"submit\" class=\"btn btn-sm btn-success\">Submit Your Answer</button>\n          </div>\n        </form>\n        <p v-if=\"error\" class=\"error mt-2\">{{ error }}</p>\n      </div>\n      <div v-else>\n        <button\n          class=\"btn btn-sm btn-success\"\n          @click=\"showForm = true\"\n          >Answer the Question\n        </button>\n      </div>\n      <hr>\n    </div>\n    <div v-else>\n      <h1 class=\"error text-center\">404 - Question Not Found</h1>\n    </div>\n    <div v-if=\"question\" class=\"container\">\n      <AnswerComponent \n        v-for=\"answer in answers\"\n        :answer=\"answer\"\n        :requestUser=\"requestUser\"\n        :key=\"answer.id\"\n        @delete-answer=\"deleteAnswer\"\n      />\n      <div class=\"my-4\">\n        <p v-show=\"loadingAnswers\">...loading...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getQuestionAnswers\"\n          class=\"btn btn-sm btn-outline-success\"\n          >Load More\n        </button>\n      </div>\n    </div>\n  </div>\n    </b-card>\n      </template>\n    </BaseLayout>\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nimport AnswerComponent from \"@/components/Answer.vue\";\nimport QuestionActions from \"@/components/QuestionActions.vue\";\nimport BaseLayout from \"@/components/BaseLayout.vue\";\nexport default {\n  \n  name: \"Question\",\n  props: {\n    slug: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    AnswerComponent,\n    QuestionActions,\n      BaseLayout\n  },\n  data() {\n    return {\n      question: {},\n      answers: [],\n      next: null,\n      loadingAnswers: false,\n      newAnswerBody: null,\n      error: null,\n      userHasAnswered: false,\n      showForm: false,\n      requestUser: null\n    }\n  },\n  computed: {\n    isQuestionAuthor() {\n      // return true if the logged in user is also the author of the question instance\n      return this.question.author === this.requestUser;\n    }\n  },\n  methods: {\n    setPageTitle(title) {\n      // set a given title string as the webpage title\n      document.title = title;\n    },\n    setRequestUser() {\n      // the username has been set to localStorage by the App.vue component\n      this.requestUser = window.localStorage.getItem(\"username\");\n    },\n    getQuestionData() {\n      // get the details of a question instance from the REST API and call setPageTitle\n      let endpoint = `/api/questions/${this.slug}/`;\n      apiService(endpoint)\n        .then(data => {\n          if (data) {\n            this.question = data;\n            // this.userHasAnswered = data.user_has_answered;\n            this.setPageTitle(data.content)\n          } else {\n            this.question = null;\n            this.setPageTitle(\"404 - Page Not Found\")\n          }\n\n        })\n    },\n    getQuestionAnswers() {\n      // get a page of answers for a single question from the REST API's paginated 'Questions Endpoint'\n      let endpoint = `/api/questions/${this.slug}/answers/`;\n\n    \n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingAnswers = true;\n      apiService(endpoint)\n        .then(data => {\n          this.answers.push(...data.results);\n          this.loadingAnswers = false;\n          if (data.next) {\n            this.next = data.next;\n          } else {\n            this.next = null;\n          }\n        })\n    },\n    onSubmit() {\n      // Tell the REST API to create a new answer for this question based on the user input, then update some data properties\n      if (this.newAnswerBody) {\n        let endpoint = `/api/questions/${this.slug}/answer/`;\n        apiService(endpoint, \"POST\", { body: this.newAnswerBody })\n          .then(data => {\n            this.answers.unshift(data)\n          })\n        this.newAnswerBody = null;\n        this.showForm = false;\n        this.userHasAnswered = true;\n        if (this.error) {\n          this.error = null;\n        }\n      } else {\n        this.error = \"You can't send an empty answer!\";\n      }\n    },\n    async deleteAnswer(answer) {\n      // delete a given answer from the answers array and make a delete request to the REST API\n      let endpoint = `/api/answers/${answer.id}/`;\n      try {\n        await apiService(endpoint, \"DELETE\")\n        this.$delete(this.answers, this.answers.indexOf(answer))\n        this.userHasAnswered = false;\n      }\n      catch (err) {\n        console.log(err)\n      }\n    }\n  },\n  created() {\n    this.getQuestionData()\n    this.getQuestionAnswers()\n    this.setRequestUser()\n  }\n}\n</script>\n\n<style scoped>\n.author-name {\n  font-weight: bold;\n  color: #DC3545;\n}\n\n.answer-added {\n  font-weight: bold;\n  color: green;\n}\n\n.error {\n  font-weight: bold;\n  color: red; \n}\n</style>\n"],"sourceRoot":"src/views"}]}