{"remainingRequest":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/babel-loader/lib/index.js!/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/eslint-loader/index.js??ref--13-0!/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/src/store/auth.js","dependencies":[{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/src/store/auth.js","mtime":1610005346147},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9tbnQvMDYyQ0JCMDUyQ0JBRUVCNS9wcm9qZWN0cy92dWUtaW50cm8vcG9yc2FuL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX211dGF0aW9uczsKCmltcG9ydCBhdXRoIGZyb20gJy4uL2FwaS9hdXRoJzsKaW1wb3J0IHNlc3Npb24gZnJvbSAnLi4vYXBpL3Nlc3Npb24nOwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOyAvLyBpbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOwoKaW1wb3J0IHsgTE9HSU5fQkVHSU4sIExPR0lOX0ZBSUxVUkUsIExPR0lOX1NVQ0NFU1MsIFNFVF9QUkVGRVJFTkNFLCBMT0dPVVQsIFJFTU9WRV9UT0tFTiwgU0VUX1RPS0VOIH0gZnJvbSAnLi90eXBlcyc7CnZhciBUT0tFTl9TVE9SQUdFX0tFWSA9ICdUT0tFTl9TVE9SQUdFX0tFWSc7CnZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nOwp2YXIgaW5pdGlhbFN0YXRlID0gewogIGF1dGhlbnRpY2F0aW5nOiBmYWxzZSwKICBlcnJvcjogZmFsc2UsCiAgdG9rZW46IG51bGwsCiAgbGFuZ3VhZ2VfcHJlZmVyZWQ6ICIiLAogIGZsYWc6IHRydWUKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiAhIXN0YXRlLnRva2VuOwogIH0sCiAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnN0YXR1czsKICB9LAogIGxhbmd1YWdlX3ByZWZlcmVkOiBmdW5jdGlvbiBsYW5ndWFnZV9wcmVmZXJlZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmxhbmd1YWdlX3ByZWZlcmVkOwogIH0sCiAgZmxhZzogZnVuY3Rpb24gZmxhZyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmZsYWc7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHZhciB1c2VybmFtZSA9IF9yZWYyLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkID0gX3JlZjIucGFzc3dvcmQ7CiAgICBjb21taXQoTE9HSU5fQkVHSU4pOwogICAgcmV0dXJuIGF1dGgubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgIHJldHVybiBjb21taXQoU0VUX1RPS0VOLCBkYXRhLmtleSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNvbW1pdChMT0dJTl9TVUNDRVNTKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNvbW1pdChMT0dJTl9GQUlMVVJFKTsKICAgIH0pOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZXR1cm4gYXV0aC5sb2dvdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNvbW1pdChMT0dPVVQpOwogICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBjb21taXQoUkVNT1ZFX1RPS0VOKTsKICAgIH0pOwogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRPS0VOX1NUT1JBR0VfS0VZKTsKCiAgICBpZiAoaXNQcm9kdWN0aW9uICYmIHRva2VuKSB7CiAgICAgIGNvbW1pdChSRU1PVkVfVE9LRU4pOwogICAgfQoKICAgIGlmICghaXNQcm9kdWN0aW9uICYmIHRva2VuKSB7CiAgICAgIGNvbW1pdChTRVRfVE9LRU4sIHRva2VuKTsKICAgIH0KICB9LAogIGdvb2dsZWxvZ2luOiBmdW5jdGlvbiBnb29nbGVsb2dpbihfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgIHZhciBuYW1lID0gImNzcmZ0b2tlbiI7CiAgICB2YXIgY29va2llVmFsdWUgPSBudWxsOwoKICAgIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9PSAnJykgewogICAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGNvb2tpZSA9IGNvb2tpZXNbaV0udHJpbSgpOyAvLyBEb2VzIHRoaXMgY29va2llIHN0cmluZyBiZWdpbiB3aXRoIHRoZSBuYW1lIHdlIHdhbnQ/CgogICAgICAgIGlmIChjb29raWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoICsgMSkgPT09IG5hbWUgKyAnPScpIHsKICAgICAgICAgIGNvb2tpZVZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcobmFtZS5sZW5ndGggKyAxKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB2YXIgQ1NSRl9UT0tFTiA9IGNvb2tpZVZhbHVlOwogICAgY29uc29sZS5sb2coQ1NSRl9UT0tFTik7CiAgICB2YXIgdG9rZW4gPSBDU1JGX1RPS0VOOwoKICAgIGlmIChpc1Byb2R1Y3Rpb24gJiYgdG9rZW4pIHsKICAgICAgY29uc29sZS5sb2coIm5vdCIpOwogICAgICBjb21taXQoUkVNT1ZFX1RPS0VOKTsKICAgIH0KCiAgICBpZiAoIWlzUHJvZHVjdGlvbiAmJiB0b2tlbikgewogICAgICBjb21taXQoU0VUX1RPS0VOLCB0b2tlbik7CiAgICAgIGNvbnNvbGUubG9nKCJub3R5ZXMiKTsKICAgIH0KICB9LAogIHNldF9wcmVmZXJlbmNlOiBmdW5jdGlvbiBzZXRfcHJlZmVyZW5jZShfcmVmNywgX3JlZjgpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICB2YXIgbGFuZyA9IF9yZWY4Lmxhbmc7CiAgICBjb25zb2xlLmxvZygidGhpcyBpcyB0byB0ZXN0Iik7CiAgICBjb25zb2xlLmxvZyhsYW5nKTsKICAgIGNvbW1pdChTRVRfUFJFRkVSRU5DRSwgbGFuZyk7CiAgfSwKICBzZXRfcHJlZmVyZW5jZTI6IGZ1bmN0aW9uIHNldF9wcmVmZXJlbmNlMihfcmVmOSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY5LmNvbW1pdDsKICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3ByZWZlcmVuY2UvIi5jb25jYXQodGhpcy5sYW5ndWFnZV9wcmVmZXJlZCwgIi9jaGFuZ2UvIik7CiAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiZ2V0IikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIC8vIHRoaXMubGFuZ3VhZ2VfcHJlZmVyZWQ9ZGF0YS5sYW5ndWFnZV9wcmVmZXJlZDsKICAgICAgICBjb21taXQoU0VUX1BSRUZFUkVOQ0UsIGRhdGEubGFuZ3VhZ2VfcHJlZmVyZWQpOwogICAgICB9CiAgICB9KTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX1BSRUZFUkVOQ0UsIGZ1bmN0aW9uIChzdGF0ZSwgbGFuZykgewogIGNvbnNvbGUubG9nKCJ0ZXN0Iik7CiAgc3RhdGUubGFuZ3VhZ2VfcHJlZmVyZWQgPSBsYW5nOwoKICBpZiAobGFuZyA9PSAiZW5nbGlzaCIpIHsKICAgIHN0YXRlLmZsYWcgPSBmYWxzZTsKICB9IGVsc2UgewogICAgc3RhdGUuZmxhZyA9IHRydWU7CiAgfQp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIExPR0lOX0JFR0lOLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5hdXRoZW50aWNhdGluZyA9IHRydWU7CiAgc3RhdGUuZXJyb3IgPSBmYWxzZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBMT0dJTl9GQUlMVVJFLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5hdXRoZW50aWNhdGluZyA9IGZhbHNlOwogIHN0YXRlLmVycm9yID0gdHJ1ZTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBMT0dJTl9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5hdXRoZW50aWNhdGluZyA9IGZhbHNlOwogIHN0YXRlLmVycm9yID0gZmFsc2U7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgTE9HT1VULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5hdXRoZW50aWNhdGluZyA9IGZhbHNlOwogIHN0YXRlLmVycm9yID0gZmFsc2U7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX1RPS0VOLCBmdW5jdGlvbiAoc3RhdGUsIHRva2VuKSB7CiAgaWYgKCFpc1Byb2R1Y3Rpb24pIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRPS0VOX1NUT1JBR0VfS0VZLCB0b2tlbik7CiAgc2Vzc2lvbi5kZWZhdWx0cy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiVG9rZW4gIi5jb25jYXQodG9rZW4pOwogIHN0YXRlLnRva2VuID0gdG9rZW47Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgUkVNT1ZFX1RPS0VOLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9TVE9SQUdFX0tFWSk7CiAgZGVsZXRlIHNlc3Npb24uZGVmYXVsdHMuaGVhZGVycy5BdXRob3JpemF0aW9uOwogIHN0YXRlLnRva2VuID0gbnVsbDsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/mnt/062CBB052CBAEEB5/projects/vue-intro/porsan/frontend/src/store/auth.js"],"names":["auth","session","apiService","LOGIN_BEGIN","LOGIN_FAILURE","LOGIN_SUCCESS","SET_PREFERENCE","LOGOUT","REMOVE_TOKEN","SET_TOKEN","TOKEN_STORAGE_KEY","isProduction","process","env","NODE_ENV","initialState","authenticating","error","token","language_prefered","flag","getters","isAuthenticated","state","authStatus","status","actions","login","commit","username","password","then","data","key","catch","logout","finally","initialize","localStorage","getItem","googlelogin","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","CSRF_TOKEN","console","log","set_preference","lang","set_preference2","endpoint","mutations","setItem","defaults","headers","Authorization","removeItem","namespaced"],"mappings":"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","sourcesContent":["import auth from '../api/auth';\nimport session from '../api/session';\nimport { apiService } from \"@/common/api.service.js\";\n// import { apiService } from \"@/common/api.service.js\";\nimport {\n  LOGIN_BEGIN,\n  LOGIN_FAILURE,\n  LOGIN_SUCCESS,\n  SET_PREFERENCE,\n  LOGOUT,\n  REMOVE_TOKEN,\n  SET_TOKEN,\n} from './types';\n\nconst TOKEN_STORAGE_KEY = 'TOKEN_STORAGE_KEY';\nconst isProduction = process.env.NODE_ENV === 'production';\n\nconst initialState = {\n  authenticating: false,\n  error: false,\n  token: null,\n  language_prefered:\"\",\n  flag:true,\n  \n};\n\nconst getters = {\n    isAuthenticated: state => !!state.token,\n    authStatus: state => state.status,\n    language_prefered: state=>state.language_prefered,\n    flag:state=>state.flag,\n\n};\n\n\n\nconst actions = {\n    login({ commit }, { username, password }) {\n              commit(LOGIN_BEGIN);\n               return auth.login(username, password)\n                    .then(({ data }) => commit(SET_TOKEN, data.key))\n                    .then(() => commit(LOGIN_SUCCESS))\n                    .catch(() => commit(LOGIN_FAILURE));\n  },\n\n\n  logout({ commit }) {\n      return auth.logout()\n          .then(() => commit(LOGOUT))\n          .finally(() => commit(REMOVE_TOKEN));\n  },\n\n  initialize({ commit }) {\n    const token = localStorage.getItem(TOKEN_STORAGE_KEY);\n\n        if (isProduction && token) {\n          commit(REMOVE_TOKEN);\n          \n        }\n\n        if (!isProduction && token) {\n          commit(SET_TOKEN, token);\n        \n          \n        }\n  },\n\n\n  googlelogin({ commit }) {\n          var name=\"csrftoken\";\n          var cookieValue = null;\n          if (document.cookie && document.cookie !== '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n              var cookie = cookies[i].trim();\n              // Does this cookie string begin with the name we want?\n              if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n              }\n            }\n          }\n      var CSRF_TOKEN = cookieValue;\n  \n      console.log(CSRF_TOKEN)\n          \n\n          const token = CSRF_TOKEN;\n\n          if (isProduction && token) {\n            console.log(\"not\");\n            commit(REMOVE_TOKEN);\n          }\n\n          if (!isProduction && token) {\n            commit(SET_TOKEN, token);\n            console.log(\"notyes\");\n          }\n  },\n\n  set_preference({ commit }, {lang}) {\n    console.log(\"this is to test\");\n    console.log(lang);\n    commit(SET_PREFERENCE, lang);\n\n  },\n\n  set_preference2({ commit }) {\n    \n\n      \n    let endpoint = `/api/preference/${this.language_prefered}/change/`;\n    apiService(endpoint, \"get\").then(data => {\n        if (data) {\n      // this.language_prefered=data.language_prefered;\n\n      commit(SET_PREFERENCE, data.language_prefered);\n  \n      \n      \n        } \n\n      })\n\n}\n\n\n\n\n};\n\n\n\nconst mutations = {\n\n  [SET_PREFERENCE](state, lang) {\n    console.log(\"test\");\n   state.language_prefered=lang;\n   if(lang==\"english\"){\n   state.flag=false;}\n   else {state.flag=true;}\n    },\n  \n\n  [LOGIN_BEGIN](state) {\n    state.authenticating = true;\n    state.error = false;\n  },\n\n  [LOGIN_FAILURE](state) {\n    state.authenticating = false;\n    state.error = true;\n  },\n\n  [LOGIN_SUCCESS](state) {\n    state.authenticating = false;\n    state.error = false;\n  },\n\n  [LOGOUT](state) {\n    state.authenticating = false;\n    state.error = false;\n  },\n\n  [SET_TOKEN](state, token) {\n    if (!isProduction) localStorage.setItem(TOKEN_STORAGE_KEY, token);\n    session.defaults.headers.Authorization = `Token ${token}`;\n    state.token = token;\n  },\n  \n  [REMOVE_TOKEN](state) {\n    localStorage.removeItem(TOKEN_STORAGE_KEY);\n    delete session.defaults.headers.Authorization;\n    state.token = null;\n   \n  },\n};\n\nexport default {\n  namespaced: true,\n  state: initialState,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}